import{d as v,$ as g,S as C,B as m,o as x,l as a,a0 as V,c,w as o,a as h,b as u,D as y,E as b,s as f,e as r,C as _,g as w,h as k}from"./main-B70GkIj-.js";import{_ as B,A as S}from"./account-manager-list-KZA8t3Qx.js";import{V as s}from"./VContainer-DYD4C6sI.js";import{V as A}from"./VRow-CuQ7f1Ee.js";import{V as N}from"./VCol-BMSgih9K.js";import"./index-B9eHhWSs.js";import"./VSpacer-CJQu-8NM.js";/* empty css              */import"./form-validation-CyjMhnzu.js";import"./VTextField-CfpYqE7h.js";import"./VForm-C5FypBKk.js";import"./primary-button.vue_vue_type_script_setup_true_lang-1Pjcy-CF.js";import"./VExpansionPanels-CUdyAz0T.js";const H=v({__name:"signup-invitations",setup(z){const t=g();C(()=>t.invitationCount,()=>{var e;(e=t.person)!=null&&e.by_invitation&&t.invitationCount===0&&l()});const i=m(void 0),d=h();function l(){a.debug(a.context(),"going to authorized"),d.push({name:"authorized"})}return x(async()=>{var e;if(a.debug(a.context(),"entering"),!((e=t.person)!=null&&e.by_invitation)){const{data:p,error:n}=await V.POST("/api/account",{});if(n){a.error(a.context(),n);return}i.value={id:p._id,role:"user",isOwner:!0,user:t.person}}}),(e,p)=>(u(),c(s,{class:"v-col-sm-9 v-col-lg-6"},{default:o(()=>[y(r(s,{class:"px-0 py-2"},{default:o(()=>[r(B)]),_:1},512),[[b,f(t).invitationCount]]),i.value?(u(),c(s,{key:0,class:"px-0 py-2"},{default:o(()=>[r(S,{"current-account":m(i.value)},null,8,["current-account"])]),_:1})):_("",!0),r(s,null,{default:o(()=>[r(A,{class:"mt-6"},{default:o(()=>[r(N,{col:"6"},{default:o(()=>{var n;return[(n=f(t).person)!=null&&n.by_invitation?_("",!0):(u(),c(w,{key:0,color:"primary",block:"",class:"mb-4",onClick:l},{default:o(()=>[k("Continue")]),_:1}))]}),_:1})]),_:1})]),_:1})]),_:1}))}});export{H as default};
