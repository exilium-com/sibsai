import{d as v,r as k,c as I,w as r,a as C,k as c,b as R,e as o,f as n,m as N,V as T,n as S,h as i,q as w,s as d,t as V,v as U,x as $}from"./main-B70GkIj-.js";import{_ as x}from"./social-login-button.vue_vue_type_script_setup_true_lang-AyLHztC-.js";import{V as F,_,a as O}from"./VForm-C5FypBKk.js";import{r as u}from"./form-validation-CyjMhnzu.js";import{V as p}from"./VContainer-DYD4C6sI.js";import{V as b}from"./VTextField-CfpYqE7h.js";/* empty css              */const D={class:"text-center"},G=n("p",{class:"text-center text-h5 font-weight-black mt-2"}," Sign in",-1),L=n("p",{class:"text-center font-weight-black mt-2"}," Welcome back to sibs.ai",-1),h={class:"text-center text-medium-emphasis"},q={class:"text-center text-medium-emphasis mb-4"},H=v({__name:"signin-view",props:{incomingError:{}},setup(y){const E=C(),g=y,e=k({email:"",password:"",show:!1,formValid:!1,signingIn:!1,message:{text:"",title:""},incomingError:g.incomingError,incomingErrorTitle:g.incomingError?"Error signing in":""});async function m(f,t){e.signingIn=!0;try{let a=await $.signIn({formFields:[{id:"email",value:f},{id:"password",value:t}]});a.status==="FIELD_ERROR"?a.formFields.forEach(l=>{l.id==="email"&&(e.message={error:!0,title:"Invalid email",text:l.error})}):a.status==="WRONG_CREDENTIALS_ERROR"?e.message={error:!0,title:"Invalid email or password",text:"Combination is incorrect"}:a.status==="SIGN_IN_NOT_ALLOWED"?e.message={error:!0,title:"Sign in not allowed",text:a.reason}:E.push({name:"authorized"})}catch(a){a.isSuperTokensGeneralError===!0?e.message={error:!0,title:"Sign in not allowed",text:a.message}:e.message={error:!0,title:"Sign in error"}}finally{e.signingIn=!1}}return(f,t)=>{const a=c("router-link"),l=c("v-gap");return R(),I(p,null,{default:r(()=>[o(U,{elevated:"",elevation:"4",class:"mx-auto","max-width":"344"},{title:r(()=>[n("div",D,[o(N,null,{default:r(()=>[o(T,{icon:"custom:logo",size:"x-large",color:"primary"})]),_:1})]),G]),subtitle:r(()=>[L]),default:r(()=>[o(S,null,{default:r(()=>[n("p",h,[i(" Not registered yet? "),o(a,{to:{name:"signup"}},{default:r(()=>[i("Sign up")]),_:1})]),o(w,{class:"mt-4"}),o(p,null,{default:r(()=>[o(F,{modelValue:e.formValid,"onUpdate:modelValue":t[8]||(t[8]=s=>e.formValid=s)},{default:r(()=>[o(b,{"append-inner-icon":"mdi-email-outline",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=s=>e.email=s),color:"primary",label:"Email",type:"email",density:"comfortable",autocomplete:"username",autofocus:"",rules:[d(u).required,d(u).email]},null,8,["modelValue","rules"]),o(b,{"append-inner-icon":e.show?"mdi-eye-outline":"mdi-eye-off-outline",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=s=>e.password=s),color:"primary",label:"Password",placeholder:"Enter your password",type:e.show?"text":"password",density:"comfortable",autocomplete:"current-password","onClick:appendInner":t[2]||(t[2]=s=>e.show=!e.show),onKeydown:t[3]||(t[3]=V(s=>m(e.email,e.password),["enter"])),rules:[d(u).required]},null,8,["append-inner-icon","modelValue","type","rules"]),n("p",q,[i(" Forgot your password? "),o(a,{to:{name:"reset"}},{default:r(()=>[i("Reset")]),_:1})]),o(_,{error:e.message.error??!1,msg:e.message.text,"onUpdate:msg":t[4]||(t[4]=s=>e.message.text=s),title:e.message.title,"onUpdate:title":t[5]||(t[5]=s=>e.message.title=s),class:"mb-4"},null,8,["error","msg","title"]),o(O,{loading:e.signingIn,disabled:!e.formValid||e.signingIn,color:"primary",block:"",onKeydown:t[6]||(t[6]=V(s=>m(e.email,e.password),["enter"])),onClick:t[7]||(t[7]=s=>m(e.email,e.password))},{default:r(()=>[i(" Continue")]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])]),_:1}),o(w,null,{default:r(()=>[i("or")]),_:1}),o(p,null,{default:r(()=>[o(_,{error:"",msg:e.incomingError,"onUpdate:msg":t[9]||(t[9]=s=>e.incomingError=s),title:e.incomingErrorTitle,"onUpdate:title":t[10]||(t[10]=s=>e.incomingErrorTitle=s),class:"mb-4"},null,8,["msg","title"]),o(x,{icon:"custom:google",name:"Google",callbackRoute:"google"}),o(l,{y:"4"}),o(x,{icon:"custom:facebook",name:"Facebook",callbackRoute:"facebook"})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{H as default};
