import{d as l,r as c,b as m,y as g,e as s,w as u,h as d,z as p,F as f,A as h}from"./main-B70GkIj-.js";import{_ as k,a as w}from"./VForm-C5FypBKk.js";const x=l({__name:"social-login-button",props:{name:{},icon:{},callbackRoute:{}},setup(n){const e=c({message:{text:"",title:""},gettingAuth:!1});async function i(){try{e.gettingAuth=!0;const t=await h.getAuthorisationURLWithQueryParamsAndSetState({thirdPartyId:a.name.toLocaleLowerCase(),frontendRedirectURI:`${window.location.origin}/auth/callback/${a.callbackRoute}`});window.location.assign(t)}catch(t){t.isSuperTokensGeneralError===!0?e.message={error:!0,title:"Error",text:t.message}:e.message={error:!0,title:"Error"}}finally{e.gettingAuth=!1}}const a=n;return(t,r)=>(m(),g(f,null,[s(k,{error:e.message.error??!1,msg:e.message.text,"onUpdate:msg":r[0]||(r[0]=o=>e.message.text=o),title:e.message.title,"onUpdate:title":r[1]||(r[1]=o=>e.message.title=o),class:"mb-4"},null,8,["error","msg","title"]),s(w,{loading:e.gettingAuth,"prepend-icon":a.icon,block:"",variant:"outlined",color:"primary",onClick:i},{default:u(()=>[d("Continue with "+p(a.name),1)]),_:1},8,["loading","prepend-icon"])],64))}});export{x as _};
